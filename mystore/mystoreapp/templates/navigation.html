{% load static %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css"/>

<!-- Bootstrap CSS -->
{% comment %} <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"> {% endcomment %}

      <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">
<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
      integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
      crossorigin="anonymous">
<!-- Google Font -->
<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

<!-- Custom CSS -->
<link rel="stylesheet" href="{% static 'css/mystyle.css' %}">

<title >TechTrove</title>
<!-- Start Nagigation -->


<style>
    #search-results {
        position: absolute;
        width: 100%;
        background-color: #fff;
        border: 1px solid #ccc;
        max-height: 200px;
        overflow-y: auto;
        display: none;
        color: black; 
    }
    
.customSubmenu{

    position:absolute;
    top: 30px;
    left: 180px;

}
.dropdown-submenu {
    position: relative;
  }
  
  .dropdown-submenu > .dropdown-menu {
    left: 100%;
    /* -6px gives dropdown-menu's padding+border */
    top: -6px;
  }
  
  .dropdown-submenu:hover > .dropdown-menu, .dropdown-submenu > a:focus + .dropdown-menu {
    /* :focus support is incomplete - pressing Tab sets focus to submenu, but that immediately hides submenu */
    display: block;
  }
  
#search-suggestions {
    color: white;
}


.animated-text {
    color: white;
    display: inline-block;
    animation: bounceText 2s infinite; /* Adjust the animation duration and properties as needed */
    font-size: 24px;
    font-weight: bold;
    text-transform: uppercase;
    text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5);
    transition: text-shadow 0.2s ease-in-out;
}
.animated-text:hover {
    text-shadow: 6px 6px 8px rgba(0, 0, 0, 0.8); /* Adjust the shadow for the 3D effect */
}


@keyframes bounceText {
    0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
    }
    40% {
        transform: translateY(-10px); /* Adjust the vertical bounce distance */
    }
    60% {
        transform: translateY(-5px); /* Adjust the vertical bounce distance */
    }
}


.custom-icon {
    font-size: 32px; /* Adjust the font size as needed */
    font-weight: bold;
    color: golden; /* Adjust the color as needed */
    text-transform: uppercase;
    letter-spacing: 2px; /* Adjust letter spacing as needed */
}

.small-text {
    font-size: 14px; /* Adjust the font size of "Tech" and "Trove" */
}

.navbar-collapse .form-inline .custom-search-input {
    width: 300px; /* Adjust the width as needed */
}
/* Style the square search bar */
.square-search-bar {
    display: flex;
    align-items: center; /* Center items vertically */
}

/* Style the square input field */
.square-input {
    width: 40px; /* Set the width to create a square shape */
    height: 40px; /* Set the height to create a square shape */
    border-radius: 0; /* Remove any border-radius */
}

/* Style the square button */
.square-button {
    width: 40px; /* Set the width to create a square shape */
    height: 40px; /* Set the height to create a square shape */
    border-radius: 0; /* Remove any border-radius */
    background-color: orange; /* Orange background */
    border: none;
    color: white;
    cursor: pointer;
}

/* Style the search icon */
.square-button i {
    font-size: 20px; /* Adjust the icon's size if needed */
    margin-top: 5px; /* Center the icon vertically */
}
.swiper{
            
    width: 90%;
    height: fit-content;
    height: 50vh;
    position: relative;
    border-radius: 10px;

}
.swiper-slide > img{

 width: 100%;
 height: 100%;

}
.swiper .swiper-button-prev, .swiper .swiper-button-next{

color: #fff;


}
.swiper .swiper-pagination-bullet-active{

   background-color: #fff;

 }
 .swiper-slide h3{

 color: #fff;
 text-align: center;
 position: absolute;

 

 }
 .swiper_info{

    position: absolute;
    color: rgb(255, 255, 255);
    padding: 15px 20px;
    margin: 5px 33px;
    top: 40px;
    box-shadow: 4px 5px 22px -4px rgb(255 250 255);
    /* background: linear-gradient(90deg, rgba(255, 42, 0, 0.6) 0%, rgba(219, 18, 18, 0.24) 100%); */
    background: linear-gradient(90deg, rgb(33, 37, 41) 0%, rgba(33, 37, 41, 0.4) 100%);
   border-radius: 10px;

 }
 .swiper_info h3{

  
   padding: 15px 8px;
   margin: 4px 20px;
   

 }
.swiper_info p{

    top: 55px;
background-color: #ff123e;
padding: 5px 10px;
    margin: 80px 20px;
    padding: 5px 8px;
    border-radius: 5px;
    text-align: center;



    }

}
</style>


<style>
   
    
    .nav-item {
        margin-right: 15px; /* Adjust the margin as needed to move the links to the left */
    }
    
   
    </style>


    
<nav class="navbar navbar-expand-sm  navbar-white height:30px" style="background:black;">
    
    <div class="container-fluid">
        <a href="#" class="navbar-brand">
             
            <img src="{% static 'images/logo.png' %}" alt="TechTrove Logo" style="height:50px; width:50px;">
            <span class="animated-text">Tech</span>
            <span class="animated-text">Trove</span>
        </a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#myMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div style="position: relative; ">
        <div class="collapse navbar-collapse text-center" id="myMenu">
            <form class="form-inline my-2 my-lg-0 square-search-bar">
                <input class="form-control custom-search-input square-input" type="search" name="q" id="search-box" placeholder="Search" aria-label="Search" value="{{ query|default:"" }}">
                <button class="btn btn-outline-success my-2 my-sm-0 square-button" id="search-button" style="font-size: 18.5px; padding: 4px 8px;" type="submit">
                    <i class="fas fa-search" style="font-size: 25px;"></i>
                </button>
            </form>
        </div>
       
        <div id="search-results" >
            <!-- Search results will be displayed here -->
        </div>
    </div>
           
    </div>     
        <div class="collapse navbar-collapse text-center" id="myMenu" >
            <ul class="navbar-nav pl-5 custom-nav ml-auto">
                <li class="nav-item "><a href="{% url "home" %}" class="nav-link "><span style="color: white;"><i class="fas fa-home"></i></span>
                <span style="color: white;"><small>Home{{is_authenticated}}</small></span> </a></li>
                
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link " id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: white;">
                        <span style="color: white;"><i class="fas fa-cube"></i></span><span style="color: white;"><small >Product</small></span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        {% for c in nested_categories %}
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="/user-product/{{ c.category.id }}">{{ c.category.name }}</a>
                            <ul class="dropdown-menu customSubmenu tog">
                                {% for subcategory in c.subcategories %}
                                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle hello" href="/brand/{{subcategory.subcategory.id}}">{{subcategory.subcategory.name }}</a>
                                    <ul class="dropdown-menu customSubmenu tog">
                                        {% for series in subcategory.series %}
                                        <li><a class="dropdown-item" href="/series/{{ series.id }}">{{ series.name }}</a></li>
                                        {% endfor %}
                                    </ul>                               
                                </li>
                                {% endfor %}
                            </ul>
                            
                        </li>
                        {% endfor %}
                    </ul>
                </li>            
                

                {% if not request.user.is_authenticated %}
                <li class="nav-item">
                    <a href="/cart/" class="nav-link">
                        <span style="color: white;">
                            <i class="fa fa-shopping-cart"></i><br>
                            <small>Cart</small> <!-- Replace with your subscript text -->
                        </span>
                    </a>
                </li>
                

                <li class="nav-item" style="margin-bottom: 2px;" >
                    <a href="{% url 'view_wishlist'  %}" class="nav-link" >
                        <span style="color: white;">
                            <i class="fa fa-heart"></i> <!-- Icon -->
                        </span>
                        {% comment %} <span style="color: white;"><small>Product</small></span> {% endcomment %}
                        <br>
                        <span style="color: white;"><small>Wishlist</small></span> <!-- Subscript Text -->
                    </a>
                </li>
                <li class="nav-item" style="margin-bottom: 2px;" >
                    <a href="{% url 'product_comparison'  %}" class="nav-link" >
                        <span style="color: white;">
                            <i class="fas fa-exchange-alt"></i> <!-- Icon -->
                        </span>
                        {% comment %} <span style="color: white;"><small>Product</small></span> {% endcomment %}
                        <br>
                        <span style="color: white;"><small>Comparison</small></span> <!-- Subscript Text -->
                    </a>
                </li>
                {% comment %} <li class="nav-item"><a href="/about/" class="nav-link"><span style="color: white;">About Us</span></a></li>
                <li class="nav-item"><a href="/contact/" class="nav-link"><span style="color: white;">Contact Us</span></a></li> {% endcomment %}
                <li class="nav-item"><a href="{% url 'userlogin' %}" class="nav-link" id="loginid"><span style="color: white;">Login</span></a></li>
                {% comment %} <li class="nav-item"><a href="{% url 'registration' %}" class="nav-link"><span style="color: white;">Signup</span></a></li> {% endcomment %}
                {% comment %} <li class="nav-item"><a href="{% url 'admin_login' %}" class="nav-link">Admin Login</a></li> {% endcomment %}
                {% else %}
                <li class="nav-item" style="margin-bottom: 4px;" ><a href="/user-feedback/" class="nav-link"><span style="color: white;"><i class="fas fa-comment"></i><small>Feedback</a></small></span> </li>
                
                
                <li class="nav-item"><a href="/my-order/" class="nav-link">
                    <span style="color: white;"><small>My Order</a></small> </span></li>
                <li class="nav-item">
                    <a href="/view_wishlist/" class="nav-link">
                        <span style="color: white;">
                            <i class="fa fa-heart" style="color: white;" id="wi"></i> <br>
                            <small>Wishlist</small> <!-- Replace with your subscript text -->
                        </span>
                    </a>
                </li>
                <li class="nav-item" style="margin-bottom: 2px;" >
                    <a href="{% url 'product_comparison'  %}" class="nav-link">
                        <span style="color: white;">
                            <i class="fas fa-exchange-alt"></i> <!-- Icon -->
                        </span>
                        {% comment %} <span style="color: white;"><small>Product</small></span> {% endcomment %}
                        <br>
                        <span style="color: white;"><small>Comparison</small></span> <!-- Subscript Text -->
                    </a>
                </li>               
                <li class="nav-item">
                    <a href="/cart/" class="nav-link">
                        <span style="color: white;">
                            <i class="fa fa-shopping-cart"></i><br>
                            <small>Cart</small> <!-- Replace with your subscript text -->
                        </span>
                    </a>
                </li>              
                <li class="nav-item dropdown">
                    <a class="nav-link " href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                       {% if request.data.image %}
                       <img src="{{ request.data.image.url }}" alt="Profile Picture">
                       {% else %} 
                        <img src="{% static 'images/useravatar.png' %}" style="width:40px;height:40px;border-radius:50%"/>
                       {% endif %} 
                    </a>
                
                    <div class="dropdown-menu dropdown-menu-right" style="width: 200px" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="{% url "profile" %}">Profile</a>
                        <a class="dropdown-item" href="/change_password/">Change Password</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="/logout/">Logout</a>
                    </div>
                </li>

                {% endif %}
            </ul>
        </div>
    </div>

</nav> <!-- End Navigation -->
{% block body %}{% endblock %}
{% comment %} {% for i in messages %}
<script>
    alert('{{i}}');
</script>


{% endfor %} {% endcomment %}

<!--Start of Tawk.to Script-->
<script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/65c09be00ff6374032c9675d/1hls61ple';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    <!--End of Tawk.to Script-->





<script>

</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<script>
    $(document).ready(function () {
        $('#search-button').on('click', function () {
            $('#search-form').submit(); 
        });
    });
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>
    $(document).ready(function() {
        $('#search-box').on('input', function() {
            var query = $(this).val();
            if (query.length >= 1) { // Adjust the minimum length for a search query as needed
                $.ajax({
                    url: '{% url "search_products" %}',
                    data: { 'query': query },
                    dataType: 'json',
                    success: function(data) {
                        var results = $('#search-results');
                        results.empty();
                        if (data.length > 0) {
                            data.forEach(function(product) {
                                results.append('<div><a href="/product-detail/' + product.id + '">' + product.name + '</a></div>');
                            });
                        } else {
                            results.append('<div>No results found.</div>');
                        }
                        results.show();
                    }
                });
            } else {
                $('#search-results').hide();
            }
        });

        $(document).on('click', function() {
            $('#search-results').hide();
        });
    });
</script>
    
